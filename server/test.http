@hostname=http://localhost:5000
@token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4N2U5MTk5ZTgyNTk0YzgwM2Q2ZmQ1NyIsImlhdCI6MTc1MzEyNTI5MCwiZXhwIjoxNzUzMTI4ODkwfQ.1eIljl2q1lX8hjp5JPMFd6LFhoQNJxNASPB9IzxYhD0

###
POST {{hostname}}/api/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "email": "test@example.com",
  "password": "password123"
}

###
POST {{hostname}}/api/auth/login
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123"
}

###
POST {{hostname}}/api/recipes
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "Spaghetti Carbonara",
  "description": "A classic Italian pasta dish with eggs, hard cheese, cured pork, and black pepper.",
  "ingredients": [
    "200g spaghetti",
    "100g guanciale or pancetta",
    "2 large eggs",
    "50g Pecorino Romano cheese",
    "Black pepper"
  ],
  "instructions": [
    "Cook spaghetti according to package directions.",
    "While spaghetti cooks, crisp guanciale in a pan.",
    "Whisk eggs, grated cheese, and plenty of black pepper in a bowl.",
    "Drain spaghetti, reserving some pasta water. Add spaghetti to the pan with guanciale.",
    "Remove from heat, quickly add egg mixture, and a splash of pasta water. Toss vigorously until creamy.",
    "Serve immediately, garnished with more Pecorino and pepper."
  ],
  "cookingTime": 20,
  "servings": 2,
  "image": "https://example.com/carbonara.jpg"
}

###
GET {{hostname}}/api/recipes
Authorization: Bearer {{token}}

###
GET {{hostname}}/api/recipes/687e84ed3ce9f1b3434036e2
Authorization: Bearer {{token}}

###
PUT {{hostname}}/api/recipes/687e84ed3ce9f1b3434036e2
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "description": "An even better classic Italian pasta dish with eggs, hard cheese, cured pork, and black pepper."
}

###
DELETE {{hostname}}/api/recipes/687e84ed3ce9f1b3434036e2
Authorization: Bearer {{token}}

###
POST {{hostname}}/api/ratings
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "recipe": "687e84ed3ce9f1b3434036e2",
  "rating": 5,
  "comment": "Absolutely delicious! A new family favorite."
}

###
GET {{hostname}}/api/ratings/687e84ed3ce9f1b3434036e2
Authorization: Bearer {{token}}

###
PUT {{hostname}}/api/ratings/687e85403ce9f1b3434036ef
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "rating": 4,
  "comment": "Still great, but maybe could use a tiny bit more salt."
}

###
DELETE {{hostname}}/api/ratings/687e85403ce9f1b3434036ef
Authorization: Bearer {{token}}

###
GET {{hostname}}/api/auth/profile
Authorization: Bearer {{token}}

###
PUT {{hostname}}/api/auth/profile
Content-Type: application/json
Authorization: Bearer {{token}}

{ "username": "newTestUser", "email": "newtest@example.com" } 

###
PUT {{hostname}}/api/auth/profile
Content-Type: application/json
Authorization: Bearer {{token}}

{ "email": "email_of_second_user@example.com" }

###
PUT {{hostname}}/api/auth/update-password
Content-Type: application/json
Authorization: Bearer {{token}}

{ "currentPassword": "password123", "newPassword": "newSecurePassword123" } 

###
PUT {{hostname}}/api/auth/update-password
Content-Type: application/json
Authorization: Bearer {{token}}

{ "currentPassword": "wrongPassword", "newPassword": "anotherNewPassword" }